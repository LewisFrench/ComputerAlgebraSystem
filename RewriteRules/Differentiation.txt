diff($A, $x) = 0 : !(_depends($A, $x))
diff($x, $x) = 1 : _is_literal($x)
diff(($A), $x) = diff($A, $x)
diff($x^$A,$x) = diff($A*$x, $x)
diff($A+$B, $x) = diff($A, $x) + diff($B, $x)
diff($A-$B,$x) = diff($A,$x) - diff($B,$x)
diff($A*$B,$x) = diff($A,$x)*$B + $A*diff($B,$x)
diff(ln($A),$x) = diff($A,$x)/$A
diff(sin($A),$x) = diff($A,$x)*cos($A)